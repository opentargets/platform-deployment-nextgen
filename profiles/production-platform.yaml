gcpProject: open-targets-prod
prefix: production
product: platform
domain: opentargets.org
dnsZone: opentargets-org

production: blue
staging: enabled

googleTagManagerId: GTM-WPXWRDV

blue:
  release: '25.09'
  webapp:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/ot-ui-apps/ot-ui-apps
      tag: '0.13.8'
  api:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/platform-api/platform-api
      tag: '25.3.2'
  aiapi:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/ot-ai-api/ot-ai-api
      tag: '0.0.13'
    secrets:
      openai: openai-token

green:
  release: '25.12'
  webapp:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/ot-ui-apps/ot-ui-apps
      tag: '0.14.3'
  api:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/platform-api/platform-api
      tag: '25.4.2-rc.1'
  aiapi:
    image:
      name: europe-west1-docker.pkg.dev/open-targets-eu-dev/ot-ai-api/ot-ai-api
      tag: '0.0.13'
    secrets:
      openai: openai-token

resources:
  production:
    webapp:
      minReplicas: 2
      maxReplicas: 5
      requests:
        memory: 32Mi
        cpu: 50m
      limits:
        memory: 256Mi
        cpu: 500m
    api:
      minReplicas: 2
      maxReplicas: 5
      requests:
        memory: 8Gi
        cpu: 3000m
      limits:
        memory: 20Gi
        cpu: 7500m
    aiapi:
      minReplicas: 2
      maxReplicas: 5
      requests:
        memory: 72Mi
        cpu: 50m
      limits:
        memory: 256Mi
        cpu: 500m

  staging:
    webapp:
      minReplicas: 1
      maxReplicas: 1
      requests:
        memory: 32Mi
        cpu: 50m
      limits:
        memory: 128Mi
        cpu: 500m
    api:
      minReplicas: 1
      maxReplicas: 1
      requests:
        memory: 2Gi
        cpu: 1000m
      limits:
        memory: 8Gi
        cpu: 2000m
    aiapi:
      minReplicas: 1
      maxReplicas: 1
      requests:
        memory: 72Mi
        cpu: 50m
      limits:
        memory: 256Mi
        cpu: 500m
